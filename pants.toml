[GLOBAL]
pants_version = "2.15.0"
backend_packages = [
  "pants.backend.python",
  "pants.backend.python.lint.black",
  "pants.backend.python.lint.flake8",
  "pants.backend.python.lint.isort",
]

[pex-cli]
version = "v2.1.113"
url_template = "https://github.com/ento/pex/releases/download/{version}/pex"
known_versions = [
  "v2.1.112|linux_x86_64|ba686ad3004de7874fbb4d7bb709727c4c9f8c9adb56b1f983d1321a3f0bb77c|4098297",
  "v2.1.113|linux_x86_64|b2f982782ff5d1c75a1884f0476582be77315744e0b71c012ba459a666761a89|4098312",
]

[python]
interpreter_constraints = [">=3.8,<4"]
enable_resolves = true

[python-bootstrap]
# Limit to Python interpreter installed by flake.nix
search_path = ["%(env.PYTHON_SEARCH_PATH)s"]

[pytest]
lockfile = "3rdparty/python/pytest.lock"
extra_requirements.add = [
  "pytest-freezer",
  "syrupy",
]

[test]
extra_env_vars = [
  # FIXME https://github.com/pantsbuild/pants/issues/11622, see tests/conftest.py and scripts/pants-with-snapshot-sandbox.sh
  "PANTS_WITH_SNAPSHOTS_HACK_DIR",
]
